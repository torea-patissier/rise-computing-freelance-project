{"ast":null,"code":"import { ExternalInteractorBase, isInArray } from \"tsparticles-engine\";\nimport { Trail } from \"./Options/Classes/Trail\";\nexport class TrailMaker extends ExternalInteractorBase {\n  constructor(container) {\n    super(container);\n    this._delay = 0;\n  }\n\n  clear() {}\n\n  init() {}\n\n  async interact(delta) {\n    var _a, _b, _c, _d;\n\n    if (!this.container.retina.reduceFactor) {\n      return;\n    }\n\n    const container = this.container,\n          options = container.actualOptions,\n          trailOptions = options.interactivity.modes.trail;\n\n    if (!trailOptions) {\n      return;\n    }\n\n    const optDelay = trailOptions.delay * 1000 / this.container.retina.reduceFactor;\n\n    if (this._delay < optDelay) {\n      this._delay += delta.value;\n    }\n\n    if (this._delay < optDelay) {\n      return;\n    }\n\n    let canEmit = true;\n\n    if (trailOptions.pauseOnStop) {\n      if (container.interactivity.mouse.position === this._lastPosition || ((_a = container.interactivity.mouse.position) === null || _a === void 0 ? void 0 : _a.x) === ((_b = this._lastPosition) === null || _b === void 0 ? void 0 : _b.x) && ((_c = container.interactivity.mouse.position) === null || _c === void 0 ? void 0 : _c.y) === ((_d = this._lastPosition) === null || _d === void 0 ? void 0 : _d.y)) {\n        canEmit = false;\n      }\n    }\n\n    if (container.interactivity.mouse.position) {\n      this._lastPosition = {\n        x: container.interactivity.mouse.position.x,\n        y: container.interactivity.mouse.position.y\n      };\n    } else {\n      delete this._lastPosition;\n    }\n\n    if (canEmit) {\n      container.particles.push(trailOptions.quantity, container.interactivity.mouse, trailOptions.particles);\n    }\n\n    this._delay -= optDelay;\n  }\n\n  isEnabled(particle) {\n    var _a;\n\n    const container = this.container,\n          options = container.actualOptions,\n          mouse = container.interactivity.mouse,\n          events = ((_a = particle === null || particle === void 0 ? void 0 : particle.interactivity) !== null && _a !== void 0 ? _a : options.interactivity).events;\n    return mouse.clicking && mouse.inside && !!mouse.position && isInArray(\"trail\", events.onClick.mode) || mouse.inside && !!mouse.position && isInArray(\"trail\", events.onHover.mode);\n  }\n\n  loadModeOptions(options, ...sources) {\n    if (!options.trail) {\n      options.trail = new Trail();\n    }\n\n    for (const source of sources) {\n      options.trail.load(source === null || source === void 0 ? void 0 : source.trail);\n    }\n  }\n\n  reset() {}\n\n}","map":{"version":3,"sources":["/Users/torea/Desktop/freelanceProject2/open-react-template/node_modules/tsparticles-interaction-external-trail/esm/TrailMaker.js"],"names":["ExternalInteractorBase","isInArray","Trail","TrailMaker","constructor","container","_delay","clear","init","interact","delta","_a","_b","_c","_d","retina","reduceFactor","options","actualOptions","trailOptions","interactivity","modes","trail","optDelay","delay","value","canEmit","pauseOnStop","mouse","position","_lastPosition","x","y","particles","push","quantity","isEnabled","particle","events","clicking","inside","onClick","mode","onHover","loadModeOptions","sources","source","load","reset"],"mappings":"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","sourcesContent":["import { ExternalInteractorBase, isInArray } from \"tsparticles-engine\";\nimport { Trail } from \"./Options/Classes/Trail\";\nexport class TrailMaker extends ExternalInteractorBase {\n    constructor(container) {\n        super(container);\n        this._delay = 0;\n    }\n    clear() {\n    }\n    init() {\n    }\n    async interact(delta) {\n        var _a, _b, _c, _d;\n        if (!this.container.retina.reduceFactor) {\n            return;\n        }\n        const container = this.container, options = container.actualOptions, trailOptions = options.interactivity.modes.trail;\n        if (!trailOptions) {\n            return;\n        }\n        const optDelay = (trailOptions.delay * 1000) / this.container.retina.reduceFactor;\n        if (this._delay < optDelay) {\n            this._delay += delta.value;\n        }\n        if (this._delay < optDelay) {\n            return;\n        }\n        let canEmit = true;\n        if (trailOptions.pauseOnStop) {\n            if (container.interactivity.mouse.position === this._lastPosition ||\n                (((_a = container.interactivity.mouse.position) === null || _a === void 0 ? void 0 : _a.x) === ((_b = this._lastPosition) === null || _b === void 0 ? void 0 : _b.x) &&\n                    ((_c = container.interactivity.mouse.position) === null || _c === void 0 ? void 0 : _c.y) === ((_d = this._lastPosition) === null || _d === void 0 ? void 0 : _d.y))) {\n                canEmit = false;\n            }\n        }\n        if (container.interactivity.mouse.position) {\n            this._lastPosition = {\n                x: container.interactivity.mouse.position.x,\n                y: container.interactivity.mouse.position.y,\n            };\n        }\n        else {\n            delete this._lastPosition;\n        }\n        if (canEmit) {\n            container.particles.push(trailOptions.quantity, container.interactivity.mouse, trailOptions.particles);\n        }\n        this._delay -= optDelay;\n    }\n    isEnabled(particle) {\n        var _a;\n        const container = this.container, options = container.actualOptions, mouse = container.interactivity.mouse, events = ((_a = particle === null || particle === void 0 ? void 0 : particle.interactivity) !== null && _a !== void 0 ? _a : options.interactivity).events;\n        return ((mouse.clicking && mouse.inside && !!mouse.position && isInArray(\"trail\", events.onClick.mode)) ||\n            (mouse.inside && !!mouse.position && isInArray(\"trail\", events.onHover.mode)));\n    }\n    loadModeOptions(options, ...sources) {\n        if (!options.trail) {\n            options.trail = new Trail();\n        }\n        for (const source of sources) {\n            options.trail.load(source === null || source === void 0 ? void 0 : source.trail);\n        }\n    }\n    reset() {\n    }\n}\n"]},"metadata":{},"sourceType":"module"}